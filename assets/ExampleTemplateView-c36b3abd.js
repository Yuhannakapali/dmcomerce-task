import{b,r as u,e as f,f as y,_ as S,o as n,c as l,g as o,t as c,w as g,F as v,h as x,i as D,v as q,j as p}from"./index-2819ec7c.js";const w=b("EmailTemplate",{state:()=>({hasSet:!1,data:{}}),getters:{hasDataBeenSet:a=>a.hasSet,getData:a=>a.data},actions:{setData(a){this.data=a,this.hasSet=!0},clearData(){this.data={},this.hasSet=!1}}}),E={setup(){const a=u({}),r=u({}),d=w(),s=f.useLoading({isFullPage:!0}),m=()=>new Promise(t=>{setTimeout(()=>{t({id:"example-template",title:"Template di esempio",description:"Questo Ã¨ un template di esempio",fields:[{id:"first_name",label:"Nome",type:"text",placeholder:"Inserisci il tuo nome",required:!0},{id:"last_name",label:"Cognome",type:"text",placeholder:"Inserisci il tuo cognome",required:!0},{id:"email",label:"Email",type:"email",placeholder:"Inserisci la tua email",required:!0},{id:"submit",label:"Invia",type:"submit",required:!1}]})},1e3)});return y(async()=>{let t;if(d.hasDataBeenSet)t=d.getData;else{let i=s.show({});t=await m(),i.hide(),d.setData(t)}a.value=t,r.value=t.fields.reduce((i,e)=>(i[e.id]="",i),{})}),{form:a,formData:r,handleSubmit:()=>{console.log(r.value)}}}},k={class:"container d-flex justify-content-center"},B={class:"p-5"},T={class:"title p-3 mt-3 mb-3"},V={class:"text-center title"},I={class:"text-center sub-title"},j=["onUpdate:modelValue","id","type","placeholder","required"],F={key:1,class:"d-flex align-items-center justify-content-center mt-4"},M=["id","required"];function N(a,r,d,s,m,h){var t,i;return n(),l("div",k,[o("div",B,[o("div",T,[o("h1",V,c((t=s.form)==null?void 0:t.title),1),o("p",I,c((i=s.form)==null?void 0:i.description),1)]),o("form",{onSubmit:r[0]||(r[0]=g((...e)=>s.handleSubmit&&s.handleSubmit(...e),["prevent"]))},[(n(!0),l(v,null,x(s.form.fields,e=>(n(),l("div",{key:e.id},[e.type==="text"||e.type==="email"?D((n(),l("input",{key:0,class:"custom-field mb-4","onUpdate:modelValue":_=>s.formData[e.id]=_,id:e.id,type:e.type,placeholder:`${e.placeholder} ${e.required?" required *":""}`,required:e.required},null,8,j)),[[q,s.formData[e.id]]]):p("",!0),e.type==="submit"?(n(),l("div",F,[o("button",{id:e.id,required:e.required,class:"btn btn-submit"},c(e.label),9,M)])):p("",!0)]))),128))],32)])])}const L=S(E,[["render",N]]);export{L as default};
