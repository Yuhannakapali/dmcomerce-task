import{b as _,r as m,e as v,f as y,_ as x,o as n,c,g as i,t as u,w as f,F as w,h as k,i as q,v as S,j as p,k as D}from"./index-2819ec7c.js";const g=_("Newsletter",()=>{const r=m(!1),s=m({});return{dataHasSet:r,data:s,setData:d=>{r.value=!0,s.value=d},clearData:()=>{r.value=!1,s.value={}}}}),N={setup(){const r=m({}),s=m({}),l=g(),a=v.useLoading({isFullPage:!0}),d=()=>new Promise(t=>{setTimeout(()=>{t({id:"newsletter-subscription",title:"Sottoscrizione Newsletter",description:"Iscriviti alla nostra newsletter per ricevere aggiornamenti e promozioni esclusive!",fields:[{id:"name",label:"Nome",type:"text",placeholder:"Inserisci il tuo nome",required:!0},{id:"email",label:"Indirizzo email",type:"email",placeholder:"Inserisci la tua email",required:!0},{id:"accept_terms",label:"Accetto i termini e le condizioni",type:"checkbox",required:!0},{id:"submit",label:"Iscriviti",type:"submit",required:!1}]})},1e3)});return y(async()=>{let t;if(l.dataHasSet)t=l.data;else{let o=a.show({});t=await d(),t&&l.setData(t),o.hide()}r.value=t,s.value=t.fields.reduce((o,e)=>(o[e.id]="",o),{})}),{form:r,formData:s,handleSubmit:()=>{console.log(s.value)}}}},V={class:"container d-flex justify-content-center"},z={class:"p-5"},I={class:"p-3 mb-5"},j={class:"text-center title"},B={class:"text-center sub-title"},F=["onUpdate:modelValue","id","type","placeholder","required"],M={key:1,class:"checkbox-container"},A={class:"cursor-pointer checkbox-label"},E=i("input",{type:"checkbox",name:"",id:"",class:""},null,-1),H={key:2,class:"d-flex align-items-center justify-content-center mt-4"},L=["id","required"];function P(r,s,l,a,d,b){var t,o;return n(),c("div",V,[i("div",z,[i("div",I,[i("h1",j,u((t=a.form)==null?void 0:t.title),1),i("p",B,u((o=a.form)==null?void 0:o.description),1)]),i("form",{onSubmit:s[0]||(s[0]=f((...e)=>a.handleSubmit&&a.handleSubmit(...e),["prevent"])),class:"text-center"},[(n(!0),c(w,null,k(a.form.fields,e=>(n(),c("div",{key:e.id},[e.type==="text"||e.type==="email"?q((n(),c("input",{key:0,class:"custom-field mb-4","onUpdate:modelValue":h=>a.formData[e.id]=h,id:e.id,type:e.type,placeholder:`${e.placeholder} ${e.required?" required *":""}`,required:e.required},null,8,F)),[[S,a.formData[e.id]]]):p("",!0),e.type==="checkbox"?(n(),c("div",M,[i("label",A,[E,D(" "+u(e.label),1)])])):p("",!0),e.type==="submit"?(n(),c("div",H,[i("button",{id:e.id,required:e.required,class:"btn-submit btn"},u(e.label),9,L)])):p("",!0)]))),128))],32)])])}const U=x(N,[["render",P]]);export{U as default};
